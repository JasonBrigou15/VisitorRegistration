@page "/admin/dashboard"
@using VisitorRegistrationUI.Services
@inject AdminService AdminService
@inject NavigationManager Nav

<div class="flex-container">

<FluentStack style="height: 100%; width: 100%; padding: 40px; display: flex; flex-direction: column; align-items: center;">
        <h1 style="font-size: 36px; margin-bottom: 40px;">Admin Dashboard</h1>

        <div style="display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: 20px;
                max-width: 800px;
                width: 100%;">

            <FluentButton Style="cursor: pointer;
                             text-align: center;
                             border: 2px solid black;
                             border-radius: 15px;
                             height: 100%"
                          OnClick="GoToCompanies">

                <h2 style="font-size: 24px; margin-bottom: 10px;">📊 Bedrijven</h2>
                <p style="color: #666;">Beheer bedrijven</p>
            </FluentButton>

            <FluentButton Style="cursor: pointer;
                             text-align: center;
                             border: 2px solid black;
                             border-radius: 15px;
                             height: 100%"
                          OnClick="@(() => Nav.NavigateTo("/admin/employees"))">
                <h2 style="font-size: 24px; margin-bottom: 10px;">👥 Werknemers</h2>
                <p style="color: #666;">Beheer werknemers</p>
            </FluentButton>

            <FluentButton Style="cursor: pointer;
                             text-align: center;
                             border: 2px solid black;
                             border-radius: 15px;
                             height: 100%"
                          OnClick="@(() => Nav.NavigateTo("/admin/visitors"))">
                <h2 style="font-size: 24px; margin-bottom: 10px;">🚶 Bezoekers</h2>
                <p style="color: #666;">Beheer bezoekers</p>
            </FluentButton>

            <FluentButton Style="cursor: pointer;
                             text-align: center;
                             border: 2px solid black;
                             border-radius: 15px;
                             height: 100%"
                          OnClick="@(() => Nav.NavigateTo("/admin/appointments"))">
                <h2 style="font-size: 24px; margin-bottom: 10px;">📅 Afspraken</h2>
                <p style="color: #666;">Beheer afspraken</p>
            </FluentButton>
        </div>
    </FluentStack>

</div>

@code {
    protected override async Task OnInitializedAsync()
    {
        await AdminService.CheckSession();
        if (!AdminService.IsAdminLoggedIn)
        {
            Nav.NavigateTo("/");
        }
    }

    private void GoToCompanies(MouseEventArgs args)
    {
        Nav.NavigateTo("/admin/companies");
    }
}